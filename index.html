<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missão Cidade</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
    <!-- Tela inicial -->
    <div id="title-screen" class="screen">
        <div class="stars"></div>
        <div class="content">
            <h1>Missão Cidade</h1>
            <button id="start-btn">Iniciar</button>
        </div>
    </div>

    <!-- Tela de briefing -->
    <div id="intro-screen" class="screen hidden">
        <div class="content">
            <h2>Briefing da Missão</h2>
            <p>Você está prestes a embarcar em uma aventura pela cidade, completando desafios e descobrindo segredos.</p>
            <button id="accept-mission-btn">Aceitar Missão</button>
        </div>
    </div>

    <!-- Onboarding -->
    <div id="onboarding-screen" class="screen hidden">
        <div class="content">
            <h2>Registro da Missão</h2>
            <p>Preencha seu nome para começar sua jornada:</p>
            <input type="text" id="player-name" placeholder="Seu nome">
            <button id="register-mission-btn">Registrar</button>
        </div>
    </div>

    <!-- Hub -->
    <div id="hub-screen" class="screen hidden">
        <div class="content">
            <h2>Central de Missões</h2>
            <div id="mission-pass">
                <h3>Progresso da Missão</h3>
                <div id="progress-bar"></div>
            </div>
            <button id="open-scanner-btn">Escanear QR Code</button>
            <button id="open-achievements-btn">Ver Conquistas</button>
        </div>
    </div>

    <!-- Scanner de estação -->
    <div id="scanner-screen" class="screen hidden">
        <div class="content">
            <h2>Scanner de QR Code</h2>
            <p id="scanner-station-title">Estação: </p>
            <div id="qr-reader"></div>
            <p id="scanner-message">Aponte a câmera para o QR Code</p>
            <button id="close-scanner-btn">Voltar</button>
        </div>
    </div>

    <!-- Minigame -->
    <div id="minigame-screen" class="screen hidden">
        <div class="content">
            <h2>Minigame</h2>
            <div id="minigame-container"></div>
            <div id="swipe-instructions">
                <p>Deslize para a direita (✔️) ou esquerda (❌) para responder.</p>
            </div>
        </div>
    </div>

    <!-- Tela de sucesso da estação -->
    <div id="completion-screen" class="screen hidden">
        <div class="content">
            <h2>Estação Concluída!</h2>
            <p>Você completou os desafios desta estação.</p>
            <button id="completion-back-to-hub-btn">Voltar ao Hub</button>
        </div>
    </div>

    <!-- Scanner final -->
    <div id="final-scanner-screen" class="screen hidden">
        <div class="content">
            <h2>Scanner Final</h2>
            <p>Aponte a câmera para o QR Code final para concluir sua missão.</p>
            <div id="final-qr-reader"></div>
            <p id="final-scanner-message">Aponte a câmera para o QR Code final</p>
            <button id="close-final-scanner-btn">Voltar</button>
        </div>
    </div>

    <!-- Modal descoberta -->
    <div id="discovery-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Descoberta!</h2>
            <p id="discovery-message"></p>
            <div id="avatar-container"></div>
            <button id="modal-close-btn">Continuar</button>
        </div>
    </div>

    <!-- Modal falha -->
    <div id="failure-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Falha na Missão</h2>
            <p>Você não completou o desafio. Tente novamente!</p>
            <button id="retry-btn">Tentar Novamente</button>
            <button id="fail-back-to-hub-btn">Voltar ao Hub</button>
        </div>
    </div>

    <!-- Modal instruções -->
    <div id="instructions-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Instruções</h2>
            <p>Aponte a câmera para o QR Code da estação.</p>
            <button id="instructions-close-btn">Fechar</button>
        </div>
    </div>

    <!-- Modal tutorial -->
    <div id="tutorial-overlay" class="hidden">
        <div id="tutorial-highlight"></div>
        <div id="tutorial-modal">
            <p id="tutorial-text"></p>
            <button id="tutorial-next-btn">Próximo</button>
        </div>
    </div>

    <!-- Conquistas -->
    <div id="achievements-screen" class="screen hidden">
        <div class="content">
            <h2>Conquistas</h2>
            <div id="achievements-list"></div>
            <button id="achievements-back-btn">Voltar</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
